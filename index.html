

<!DOCTYPE html>
<html>
<head>
<style>

body{
    margin:0;
    height:100vh;
    overflow:hidden;
    font-family: monospace;
    background: radial-gradient(circle at 40% 20%, #1e0033, #000814 60%, #000);
    color:#00ffff;
}

/* Ground */
.ground{
    position:absolute;
    bottom:0;
    width:100%;
    height:100px;
    background: linear-gradient(to top,#111,#222);
    box-shadow: inset 0 20px 30px rgba(0,0,0,0.7);
}

/* Ball */
.ball{
    position:absolute;
    width:70px;
    height:70px;
    border-radius:50%;
    background: linear-gradient(145deg,#ff3c78,#ff0066);
    box-shadow:0 0 25px #ff3c78;
}

/* Shadow */
.shadow{
    position:absolute;
    width:70px;
    height:20px;
    background:rgba(0,0,0,0.6);
    border-radius:50%;
    bottom:85px;
    filter:blur(5px);
}

/* Info Panel */
.info{
    position:absolute;
    top:20px;
    left:20px;
    font-size:14px;
    background:rgba(0,0,0,0.4);
    padding:15px;
    border-radius:10px;
    backdrop-filter:blur(5px);
    box-shadow:0 0 15px rgba(0,255,255,0.5);
}

.status{
    margin-top:8px;
    color:#39ff14;
    font-weight:bold;
}

</style>
</head>
<body>

<div class="ground"></div>
<div class="info" id="info"></div>

<script>

let base_g = 980;      
let restitution = 0.8;  
let stopThreshold = 15;   // if velocity < 15 px/s → stop
let timeElapsed = 0;

const groundLevel = window.innerHeight - 100 - 70;

const ball = document.createElement("div");
ball.className = "ball";
ball.style.left = "50%";
ball.style.marginLeft = "-35px";
document.body.appendChild(ball);

const shadow = document.createElement("div");
shadow.className = "shadow";
shadow.style.left = "50%";
shadow.style.marginLeft = "-35px";
document.body.appendChild(shadow);

let y = 0;
let initialVelocity = -750;   
let velocity = initialVelocity;
let lastTime = null;
let isResting = false;

function animate(timestamp){

    if(isResting) return;

    if(!lastTime) lastTime = timestamp;
    const dt = (timestamp - lastTime)/1000;
    lastTime = timestamp;

    timeElapsed += dt;

    let g = base_g;  // constant gravity now

    velocity += g * dt;   
    y += velocity * dt;   

    if(y > groundLevel){
        y = groundLevel;
        velocity = -velocity * restitution;

        // If bounce is too small → stop completely
        if(Math.abs(velocity) < stopThreshold){
            velocity = 0;
            isResting = true;
        }

        ball.style.transform="scaleY(0.85)";
        setTimeout(()=>ball.style.transform="scaleY(1)",80);
    }

    ball.style.top = y + "px";

    let heightRatio = y / groundLevel;
    shadow.style.transform = `scale(${1-heightRatio})`;
    shadow.style.opacity = 1-heightRatio;

    document.getElementById("info").innerHTML =
        "Gravity (g): " + g + " px/s²<br>" +
        "Initial Velocity (u): " + initialVelocity + " px/s<br>" +
        "Current Velocity (v): " + velocity.toFixed(2) + " px/s<br>" +
        "Restitution: " + restitution +
        (isResting ? "<div class='status'>Ball is at Rest ✅</div>" : "");

    requestAnimationFrame(animate);
}

requestAnimationFrame(animate);

</script>

</body>
</html>